<div class="rp-page">
	<div class="rp-card">
		<div class="rp-header">
			<div class="rp-icon">ğŸ”</div>
			<h1>Reset Password</h1>
			<p>Enter your email to generate a reset token, then set a new password.</p>
		</div>

		<div *ngIf="infoMessage" class="rp-alert rp-alert--info">{{ infoMessage }}</div>
		<div *ngIf="errorMessage" class="rp-alert rp-alert--error">{{ errorMessage }}</div>

		<form class="rp-form" (ngSubmit)="resetPassword()">
			<div class="rp-field">
				<label>Email</label>
				<input [(ngModel)]="email" name="email" type="email" placeholder="you@example.com" autocomplete="email" />
			</div>

			<div class="rp-row">
				<button class="rp-btn rp-btn--ghost" type="button" (click)="requestToken()" [disabled]="isRequesting">
					{{ isRequesting ? 'Sendingâ€¦' : 'Send Reset Token' }}
				</button>
				<a class="rp-link" routerLink="/register" [queryParams]="{ fromLanding: 1 }">Back to Sign In</a>
			</div>

			<div class="rp-field">
				<label>Reset Token</label>
				<input [(ngModel)]="resetToken" name="resetToken" type="text" placeholder="Paste token here" autocomplete="one-time-code" />
			</div>

			<div class="rp-grid">
				<div class="rp-field">
					<label>New Password</label>
					<input [(ngModel)]="newPassword" name="newPassword" type="password" placeholder="New password" autocomplete="new-password" />
				</div>
				<div class="rp-field">
					<label>Confirm Password</label>
					<input [(ngModel)]="confirmPassword" name="confirmPassword" type="password" placeholder="Confirm password" autocomplete="new-password" />
				</div>
			</div>

			<button class="rp-btn rp-btn--primary" type="submit" [disabled]="isResetting">
				{{ isResetting ? 'Updatingâ€¦' : 'Update Password' }}
			</button>
		</form>
	</div>
</div>
